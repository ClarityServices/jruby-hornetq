#!/usr/bin/env jruby

require 'yaml'
require 'hornetq'

unless ARGV[0]
  $stderr.puts "Usage: hornetq_server <yml-file>"
  exit 1
end

config = YAML.load_file(ARGV[0])
server = Java::org.hornetq.core.server.HornetQServers.create_from_yaml_file(ARGV[0])
server.enable_shutdown_on_signal
server.start
